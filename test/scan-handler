# Example using Flask
from flask import Flask, request, jsonify

app = Flask(__name__)

@app.route('/scan_nfc', methods=['POST'])
def handle_nfc_scan():
    # Expecting JSON data like {"uid": "YOUR_NFC_UID"}
    data = request.get_json()
    if data and 'uid' in data:
        nfc_uid = data['uid']
        print(f"Received NFC UID: {nfc_uid}")
        # --- Add your logic here to process the UID ---
        # For example, save to a database, trigger an action, etc.
        # -----------------------------------------------
        return jsonify({"status": "success", "message": f"NFC UID {nfc_uid} received"}), 200
    else:
        return jsonify({"status": "error", "message": "Invalid data format or missing 'uid'"}), 400

# Make sure your app also listens on the correct port
# In your case, it's likely 8000 because your Service probably targets 8000.
if __name__ == '__main__':
    app.run(host='0.0.0.0', port=8000)
